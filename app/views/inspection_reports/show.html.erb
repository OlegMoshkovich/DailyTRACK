<div>       
  <h1 class="text-center ">Inspection Report</h1> 
        <p> 
             <strong>Name:</strong>
            <%= @user.username%>
        </p>
        <p> 
            <strong>Role:</strong>
            <%= link_to 'VDC Coordinator', users_path  if current_user.admin? %>
            <%= link_to 'Inspector', users_path  if !current_user.admin? %>
        </p>

        <p>
          <strong>Date:</strong>
          <%= @inspection_report.date %>
        </p>
        <%= image_tag(@inspection_report.user.image.url(:thumb)) %>
</div>

 <script>
 $(document).ready(function(){
   $('select#inspection_scope').on( 'change', function(){
    
    var v = this.value;
    
   if ($(this).val() == 'CONCRETE') {
        $('.CONCRETE').show();
        $('.REINFORCEMENT').hide();
        $('.SHOTCRETE').disable();
        $('.DRAINAGE').hide();
        $('.ELECTRICAL').hide();
        $('.FINISHES').hide();
        $('.FIREPROOFING').hide();
        $('.MASONRY').hide();
        $('.METALS').hide();
        $('.SURVEYING').hide();
        $('.SITE_MAINTANENCE').hide();
        $('.WATERPROOFING').hide();

      
        $('.reinforcement').prop('disabled', 'disabled');
        $('.shotcrete').prop('disabled', 'disabled');
        $('.drainage').prop('disabled', 'disabled');
        $('.electrical').prop('disabled', 'disabled');
        $('.finishes').prop('disabled', 'disabled');
        $('.fireproofing').prop('disabled', 'disabled');
        $('.masonry').prop('disabled', 'disabled');
        $('.metals').prop('disabled', 'disabled');
        $('.surveying').prop('disabled', 'disabled');
        $('.site_maintanence').prop('disabled', 'disabled');
        $('.waterproofing').prop('disabled', 'disabled');



    }

    else if ($(this).val() == 'REINFORCEMENT') {
        $('.CONCRETE').hide();
        $('.REINFORCEMENT').show();
        $('.SHOTCRETE').hide();
        $('.DRAINAGE').hide();
        $('.ELECTRICAL').hide();
        $('.FINISHES').hide();
        $('.FIREPROOFING').hide();
        $('.MASONRY').hide();
        $('.METALS').hide();
        $('.SURVEYING').hide();
        $('.SITE_MAINTANENCE').hide();
        $('.WATERPROOFING').hide();

        $('.concrete').prop('disabled', 'disabled');
        $('.shotcrete').prop('disabled', 'disabled');
        $('.drainage').prop('disabled', 'disabled');
        $('.electrical').prop('disabled', 'disabled');
        $('.finishes').prop('disabled', 'disabled');
        $('.fireproofing').prop('disabled', 'disabled');
        $('.masonry').prop('disabled', 'disabled');
        $('.metals').prop('disabled', 'disabled');
        $('.surveying').prop('disabled', 'disabled');
        $('.site_maintanence').prop('disabled', 'disabled');
        $('.waterproofing').prop('disabled', 'disabled');

    }

        else if ($(this).val() == 'SHOTCRETE') {
        $('.CONCRETE').hide();
        $('.REINFORCEMENT').hide();
        $('.SHOTCRETE').show();
        $('.DRAINAGE').hide();
        $('.ELECTRICAL').hide();
        $('.FINISHES').hide();
        $('.FIREPROOFING').hide();
        $('.MASONRY').hide();
        $('.METALS').hide();
        $('.SURVEYING').hide();
        $('.SITE_MAINTANENCE').hide();
        $('.WATERPROOFING').hide();

        $('.concrete').prop('disabled', 'disabled');
        $('.reinforcement').prop('disabled', 'disabled');
        $('.drainage').prop('disabled', 'disabled');
        $('.electrical').prop('disabled', 'disabled');
        $('.finishes').prop('disabled', 'disabled');
        $('.fireproofing').prop('disabled', 'disabled');
        $('.masonry').prop('disabled', 'disabled');
        $('.metals').prop('disabled', 'disabled');
        $('.surveying').prop('disabled', 'disabled');
        $('.site_maintanence').prop('disabled', 'disabled');
        $('.waterproofing').prop('disabled', 'disabled');


    }

        else if ($(this).val() == 'DRAINAGE') {
        $('.CONCRETE').hide();
        $('.REINFORCEMENT').hide();
        $('.SHOTCRETE').hide();
        $('.DRAINAGE').show();
        $('.ELECTRICAL').hide();
        $('.FINISHES').hide();
        $('.FIREPROOFING').hide();
        $('.MASONRY').hide();
        $('.METALS').hide();
        $('.SURVEYING').hide();
        $('.SITE_MAINTANENCE').hide();
        $('.WATERPROOFING').hide();

        $('.concrete').prop('disabled', 'disabled');
        $('.reinforcement').prop('disabled', 'disabled');
        $('.shotcrete').prop('disabled', 'disabled');
        $('.electrical').prop('disabled', 'disabled');
        $('.finishes').prop('disabled', 'disabled');
        $('.fireproofing').prop('disabled', 'disabled');
        $('.masonry').prop('disabled', 'disabled');
        $('.metals').prop('disabled', 'disabled');
        $('.surveying').prop('disabled', 'disabled');
        $('.site_maintanence').prop('disabled', 'disabled');
        $('.waterproofing').prop('disabled', 'disabled');


    }

        else if ($(this).val() == 'ELECTRICAL') {
        $('.CONCRETE').hide();
        $('.REINFORCEMENT').hide();
        $('.SHOTCRETE').hide();
        $('.DRAINAGE').hide();
        $('.ELECTRICAL').show();
        $('.FINISHES').hide();
        $('.FIREPROOFING').hide();
        $('.MASONRY').hide();
        $('.METALS').hide();
        $('.SURVEYING').hide();
        $('.SITE_MAINTANENCE').hide();
        $('.WATERPROOFING').hide();

        $('.concrete').prop('disabled', 'disabled');
        $('.reinforcement').prop('disabled', 'disabled');
        $('.shotcrete').prop('disabled', 'disabled');
        $('.drainage').prop('disabled', 'disabled');
        $('.finishes').prop('disabled', 'disabled');
        $('.fireproofing').prop('disabled', 'disabled');
        $('.masonry').prop('disabled', 'disabled');
        $('.metals').prop('disabled', 'disabled');
        $('.surveying').prop('disabled', 'disabled');
        $('.site_maintanence').prop('disabled', 'disabled');
        $('.waterproofing').prop('disabled', 'disabled');




    }


        else if ($(this).val() == 'FINISHES') {
        $('.CONCRETE').hide();
        $('.REINFORCEMENT').hide();
        $('.SHOTCRETE').hide();
        $('.DRAINAGE').hide();
        $('.ELECTRICAL').hide();
        $('.FINISHES').show();
        $('.FIREPROOFING').hide();
        $('.MASONRY').hide();
        $('.METALS').hide();
        $('.SURVEYING').hide();
        $('.SITE_MAINTANENCE').hide();
        $('.WATERPROOFING').hide();

        $('.concrete').prop('disabled', 'disabled');
        $('.reinforcement').prop('disabled', 'disabled');
        $('.drainage').prop('disabled', 'disabled');
        $('.shotcrete').prop('disabled', 'disabled');
        $('.electrical').prop('disabled', 'disabled');
        $('.fireproofing').prop('disabled', 'disabled');
        $('.masonry').prop('disabled', 'disabled');
        $('.metals').prop('disabled', 'disabled');
        $('.surveying').prop('disabled', 'disabled');
        $('.site_maintanence').prop('disabled', 'disabled');
        $('.waterproofing').prop('disabled', 'disabled');

    }

   else if ($(this).val() == 'FIREPROOFING') {
        $('.CONCRETE').hide();
        $('.REINFORCEMENT').hide();
        $('.SHOTCRETE').hide();
        $('.DRAINAGE').hide();
        $('.ELECTRICAL').hide();
        $('.FINISHES').hide();
        $('.FIREPROOFING').show();
        $('.MASONRY').hide();
        $('.METALS').hide();
        $('.SURVEYING').hide();
        $('.SITE_MAINTANENCE').hide();
        $('.WATERPROOFING').hide();

        $('.concrete').prop('disabled', 'disabled');
        $('.reinforcement').prop('disabled', 'disabled');
        $('.drainage').prop('disabled', 'disabled');
        $('.shotcrete').prop('disabled', 'disabled');
        $('.electrical').prop('disabled', 'disabled');
        $('.finishes').prop('disabled', 'disabled');
        $('.masonry').prop('disabled', 'disabled');
        $('.metals').prop('disabled', 'disabled');
        $('.surveying').prop('disabled', 'disabled');
        $('.site_maintanence').prop('disabled', 'disabled');
        $('.waterproofing').prop('disabled', 'disabled');

    }

   else if ($(this).val() == 'MASONRY') {
        $('.CONCRETE').hide();
        $('.REINFORCEMENT').hide();
        $('.SHOTCRETE').hide();
        $('.DRAINAGE').hide();
        $('.ELECTRICAL').hide();
        $('.FINISHES').hide();
        $('.FIREPROOFING').hide();
        $('.MASONRY').show();
        $('.METALS').hide();
        $('.SURVEYING').hide();
        $('.SITE_MAINTANENCE').hide();
        $('.WATERPROOFING').hide();

        $('.concrete').prop('disabled', 'disabled');
        $('.reinforcement').prop('disabled', 'disabled');
        $('.drainage').prop('disabled', 'disabled');
        $('.shotcrete').prop('disabled', 'disabled');
        $('.electrical').prop('disabled', 'disabled');
        $('.finishes').prop('disabled', 'disabled');
        $('.fireproofing').prop('disabled', 'disabled');
        $('.metals').prop('disabled', 'disabled');
        $('.surveying').prop('disabled', 'disabled');
        $('.site_maintanence').prop('disabled', 'disabled');
        $('.waterproofing').prop('disabled', 'disabled');

    }

       else if ($(this).val() == 'METALS') {
        $('.CONCRETE').hide();
        $('.REINFORCEMENT').hide();
        $('.SHOTCRETE').hide();
        $('.DRAINAGE').hide();
        $('.ELECTRICAL').hide();
        $('.FINISHES').hide();
        $('.FIREPROOFING').hide();
        $('.MASONRY').hide();
        $('.METALS').show();
        $('.SURVEYING').hide();
        $('.SITE_MAINTANENCE').hide();
        $('.WATERPROOFING').hide();

        $('.concrete').prop('disabled', 'disabled');
        $('.reinforcement').prop('disabled', 'disabled');
        $('.drainage').prop('disabled', 'disabled');
        $('.shotcrete').prop('disabled', 'disabled');
        $('.electrical').prop('disabled', 'disabled');
        $('.finishes').prop('disabled', 'disabled');
        $('.fireproofing').prop('disabled', 'disabled');
        $('.masonry').prop('disabled', 'disabled');
        $('.surveying').prop('disabled', 'disabled');
        $('.site_maintanence').prop('disabled', 'disabled');
        $('.waterproofing').prop('disabled', 'disabled');

    }

       else if ($(this).val() == 'SURVEYING') {
        $('.CONCRETE').hide();
        $('.REINFORCEMENT').hide();
        $('.SHOTCRETE').hide();
        $('.DRAINAGE').hide();
        $('.ELECTRICAL').hide();
        $('.FINISHES').hide();
        $('.FIREPROOFING').hide();
        $('.MASONRY').hide();
        $('.METALS').hide();
        $('.SURVEYING').show();
        $('.SITE_MAINTANENCE').hide();
        $('.WATERPROOFING').hide();

        $('.concrete').prop('disabled', 'disabled');
        $('.reinforcement').prop('disabled', 'disabled');
        $('.drainage').prop('disabled', 'disabled');
        $('.shotcrete').prop('disabled', 'disabled');
        $('.electrical').prop('disabled', 'disabled');
        $('.finishes').prop('disabled', 'disabled');
        $('.fireproofing').prop('disabled', 'disabled');
        $('.masonry').prop('disabled', 'disabled');
        $('.metals').prop('disabled', 'disabled');
        $('.site_maintanence').prop('disabled', 'disabled');
        $('.waterproofing').prop('disabled', 'disabled');

    }

       else if ($(this).val() == 'SITE_MAINTANENCE') {
        $('.CONCRETE').hide();
        $('.REINFORCEMENT').hide();
        $('.SHOTCRETE').hide();
        $('.DRAINAGE').hide();
        $('.ELECTRICAL').hide();
        $('.FINISHES').hide();
        $('.FIREPROOFING').hide();
        $('.MASONRY').hide();
        $('.METALS').hide();
        $('.SURVEYING').hide();
        $('.SITE_MAINTANENCE').show();
        $('.WATERPROOFING').hide();

        $('.concrete').prop('disabled', 'disabled');
        $('.reinforcement').prop('disabled', 'disabled');
        $('.drainage').prop('disabled', 'disabled');
        $('.shotcrete').prop('disabled', 'disabled');
        $('.electrical').prop('disabled', 'disabled');
        $('.finishes').prop('disabled', 'disabled');
        $('.fireproofing').prop('disabled', 'disabled');
        $('.masonry').prop('disabled', 'disabled');
        $('.metals').prop('disabled', 'disabled');
        $('.surveying').prop('disabled', 'disabled');
        $('.waterproofing').prop('disabled', 'disabled');
    }

        else if ($(this).val() == 'WATERPROOFING') {
        $('.CONCRETE').hide();
        $('.REINFORCEMENT').hide();
        $('.SHOTCRETE').hide();
        $('.DRAINAGE').hide();
        $('.ELECTRICAL').hide();
        $('.FINISHES').hide();
        $('.FIREPROOFING').hide();
        $('.MASONRY').hide();
        $('.METALS').hide();
        $('.SURVEYING').hide();
        $('.SITE_MAINTANENCE').hide();
        $('.WATERPROOFING').show();

        $('.concrete').prop('disabled', 'disabled');
        $('.reinforcement').prop('disabled', 'disabled');
        $('.drainage').prop('disabled', 'disabled');
        $('.shotcrete').prop('disabled', 'disabled');
        $('.electrical').prop('disabled', 'disabled');
        $('.finishes').prop('disabled', 'disabled');
        $('.fireproofing').prop('disabled', 'disabled');
        $('.masonry').prop('disabled', 'disabled');
        $('.metals').prop('disabled', 'disabled');
        $('.surveying').prop('disabled', 'disabled');
        $('.site_maintanence').prop('disabled', 'disabled');

    }

    else{
        $('.CONCRETE').hide();
        $('.REINFORCEMENT').hide();
        $('.SHOTCRETE').hide();
        $('.DRAINAGE').hide();
        $('.ELECTRICAL').hide();
        $('.FINISHES').hide();
        $('.FIREPROOFING').hide();
        $('.MASONRY').hide();
        $('.METALS').hide();
        $('.SURVEYING').hide();
        $('.SITE_MAINTANENCE').hide();
        $('.WATERPROOFING').hide();
    }

   });
 });
 </script>



<div class='row'>
        <div class ='span3'>
        <h3 >Create Inspection:</h3>

          <%= form_for([@inspection_report, @inspection_report.inspections.build]) do |f| %>   
            
            <div><%= f.select :heading, options_for_select(['TT', 'L402','GCT1+2_east','GCT1+2 West' ])%></div>

            <div ><%= f.select :element, options_for_select(['WALL', 'SLAB','ARCH','INVERT','system' ]) %></div>

            <div><%= f.text_field :start , :placeholder =>'Start' %></div>
            
            <div><%= f.text_field :finish, :placeholder => 'End',:cols => "10", :rows => "1" %></div>
            
            <div><%= f.select :scope, options_for_select(['SCOPE','CONCRETE', 'REINFORCEMENT','DRAINAGE','SHOTCRETE', 'ELECTRICAL','FINISHES','FIREPROOFING','MASONRY','METALS','SURVEYING','SITE_MAINTANENCE','WATERPROOFING']) %></div>
      
           

            <div class="REINFORCEMENT" style=" display: none;">
            <%= f.select :operation, options_for_select(['Reinforcement new']), {}, { :class => 'reinforcement' } %>
            </div>

            <div class="SHOTCRETE" style=" display: none;">
            <%= f.select :operation, options_for_select(['Shotcrete new']), {}, { :class => 'shotcrete' } %>
            </div>

            <div class="DRAINAGE" style=" display: none;">
            <%= f.select :operation, options_for_select(['Drainage']), {}, { :class => 'drainage' } %> 
            </div>
            
            <div class="ELECTRICAL" style=" display: none;">
            <%= f.select :operation, options_for_select(['Electrical1','Electrical2','Electrical3' ]), {}, { :class => 'electrical' } %> 
            </div>

            <div class="FINISHES" style=" display: none;">
            <%= f.select :operation, options_for_select(['finishes']), {}, { :class => 'finishes' } %> 
            </div>

            <div class="FIREPROOFING" style=" display: none;">
            <%= f.select :operation, options_for_select(['fireproofing']), {}, { :class => 'fireproofing' } %> 
            </div>

            <div class="MASONRY" style=" display: none;">
            <%= f.select :operation, options_for_select(['masonry']), {}, { :class => 'masonry' } %> 
            </div>

            <div class="METALS" style=" display: none;">
            <%= f.select :operation, options_for_select(['metals']), {}, { :class => 'metals' } %> 
            </div>

            <div class="SURVEYING" style=" display: none;">
            <%= f.select :operation, options_for_select(['surveying']), {}, { :class => 'surveying' } %> 
            </div>

            <div class="SITE_MAINTANENCE" style=" display: none;">
            <%= f.select :operation, options_for_select(['site_maintanence']), {}, { :class => 'site_maintanence' } %>
            </div>


            <div class="WATERPROOFING" style=" display: none;">
            <%= f.select :operation, options_for_select(['waterproofing']), {}, { :class => 'waterproofing' } %>
            </div>

            <div class="CONCRETE" style=" display: none;">
            <%= f.select :operation, options_for_select(['Concrete new1','Concrete new2','Concrete new3']), {}, { :class => 'concrete' }%>
        </div>
            
 
            <div><span class="btn btn-file"><%= f.file_field :image %> Image</span></div>     
            <br>

          <p id ='button'><%= f.submit  class: 'btn btn-primary', value: 'Create INSPECTION' %></p>
        
        <% end %>
      </div>




      <div class ='span3'>
            <h3>Create Note:</h3>
            <%= form_for([@inspection_report, @inspection_report.notes.build]) do |f| %>
                <table>
                <tr>
                <%= f.text_area :observation,  :cols => "80", :rows => "6" %></th>
                </tr>
                </table>  
              <p><%= f.submit class: 'btn btn-primary' , value: 'Create NOTE '%></p>
            <% end %>
      </div>

      <div class ='span5'>
            <h3>Notes:</h3>
            <table>
                  <tr>
                    <% @inspection_report.notes.each do |note| %>
                    <%= note.observation %>
                    <%= button_to 'o', [note.inspection_report, note],
                    method: :delete ,:class => "btn btn-link",
                    data: { confirm: 'Are you sure?' } %>
                  </tr>
              <% end %>
            </table>
      </div>
</div>


  
<div >
          <h3 > Inspections</h3>
          
          <table class = "table">
            <tr>
              <th>Heading</th>
              <th>Element</th>
              <th>Start</th>
              <th>Finish</th>
              <th>Scope</th>
              <th>Operation</th>
              <th>Image</th>
              <th>Erase</th>
            </tr>
            <% @inspection_report.inspections.each do |inspection| %>
              <tr>
                <td><%= inspection.heading %></td>
                <td><%= inspection.element %></td>
                <td><%= inspection.start %></td>
                <td><%= inspection.finish %></td>
                <td><%= inspection.scope %></td>
                <td><%= inspection.operation %></td>
                <td><%= image_tag inspection.image.url(:thumb)  %></td>
                <td><strong><%= button_to 'o', [inspection.inspection_report, inspection],
                           method: :delete,:class => "btn btn-link" ,
                           data: { confirm: 'Are you sure?' } %><strong></td>
              </tr>
            <% end %>
          </table>
</div>
          



        
